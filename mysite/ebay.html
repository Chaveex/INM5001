<!DOCTYPE html>
<html lang="en">
<head>
  <title>Carte de hockey</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1 shrink-to-fit=no">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css" rel="stylesheet">
  <link rel="stylesheet" href="src/js/jPlayer/jplayer.flat.css" type="text/css" />
  <link rel="stylesheet" href="src/css/bootstrap.css" type="text/css" />
  <link rel="stylesheet" href="src/css/animate.css" type="text/css" />
  <link rel="stylesheet" href="src/css/font-awesome.min.css" type="text/css" />
  <link rel="stylesheet" href="src/css/simple-line-icons.css" type="text/css" />
  <link rel="stylesheet" href="src/css/font.css" type="text/css" />
  <link rel="stylesheet" href="src/css/app.css" type="text/css" />  

    <!-- Custom styles for this template -->
  
<style>
#containerImage {
    height: 400px;
    width:100%;
}
#containerImage.imgCarousel{
  height:100%;
  width:100%;

}
.well.equipe{
  width: 75%;
}
 .container {
    padding-top: 70px;
  }
  #sidebar{
     padding-top: 30px;
  }
</style>	
</head>
	
<body>
  
<section>
	<header class="bg-black header header-md navbar navbar-fixed-top-xs">
		<div class="navbar-header aside bg-info nav-xs">


			<a class="btn btn-link visible-xs" data-toggle="dropdown" data-target=".user">
				<i class="icon-settings"></i>
			</a>
		</div>      
		<ul class="nav navbar-nav hidden-xs">
			<li>
				<a href="#nav,.navbar-header" data-toggle="class:nav-xs,nav-xs" class="text-muted">
					<i class="fa fa-indent text"></i>
					<i class="fa fa-dedent text-active"></i>
				</a>
			</li>
		</ul>
		<form action="results.html" class="navbar-form navbar-right input-s-lg m-t m-l-n-xs hidden-xs" role="search">
			<div class="form-group">
				<div class="input-group">
					<span class="input-group-btn">
						<button type="submit" onclick=onclickButton() class="btn btn-sm bg-white btn-icon rounded">
							<i class="fa fa-search"></i>
						</button>
					</span>
					<input id="searchText" type="text" class="form-control input-sm no-border rounded">
				</div>
			</div>
		</form>
	</header>
</section>

<div class="container ">
	<div class="row"> 
		<!-- /.col-lg-3 -->
		<aside class="aside-md bg-black dk col-lg-3  sidebar"   >
			 <div id="gh-cat-box" width="100%" class="">
				 <select aria-label="Select a category for search" class="gh-sb gh-sprRetina" size="1" id="gh-cat" name="_sacat">
					 <option value="0">All Categories</option>
					 <option value="20081">Antiques</option>
					 <option value="550">Art</option>
					 <option value="2984">Baby</option>
					 <option value="267">Books</option>
					 <option value="12576">Business &amp; Industrial</option>
					 <option value="625">Cameras &amp; Photo</option>
					 <option value="15032">Cell Phones &amp; Accessories</option>
					 <option value="11450">Clothing, Shoes &amp; Accessories</option>
					 <option value="11116">Coins &amp; Paper Money</option>
					 <option value="1">Collectibles</option>
					 <option value="58058">Computers/Tablets &amp; Networking</option>
					 <option value="293">Consumer Electronics</option>
					 <option value="14339">Crafts</option>
					 <option value="237">Dolls &amp; Bears</option>
					 <option value="11232">DVDs &amp; Movies</option>
					 <option value="6000">eBay Motors</option>
					 <option value="45100">Entertainment Memorabilia</option>
					 <option value="172008">Gift Cards &amp; Coupons</option>
					 <option value="26395">Health &amp; Beauty</option>
					 <option value="11700">Home &amp; Garden</option>
					 <option value="281">Jewelry &amp; Watches</option>
					 <option value="11233">Music</option>
					 <option value="619">Musical Instruments &amp; Gear</option>
					 <option value="1281">Pet Supplies</option>
					 <option value="870">Pottery &amp; Glass</option>
					 <option value="10542">Real Estate</option>
					 <option value="316">Specialty Services</option>
					 <option value="888">Sporting Goods</option>
					 <option value="64482">Sports Mem, Cards &amp; Fan Shop</option>
					 <option value="260">Stamps</option>
					 <option value="1305">Tickets &amp; Experiences</option>
					 <option value="220">Toys &amp; Hobbies</option>
					 <option value="3252">Travel</option>
					 <option value="1249">Video Games &amp; Consoles</option>
					 <option value="99">Everything Else</option>
				 </select>
			</div>
		</aside>  
		<div class="col-sm-6">
			<div id="carouselExampleIndicators" class="carousel slide " width="50%" data-ride="carousel">
				<ol class="carousel-indicators">
				  <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
				  <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
				  <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
				</ol>
				<div class="carousel-inner" role="listbox" id="containerImage">
					<div class="item active">
						<img class="d-block img-fluid" src="images/image1.jpg" alt="First slide">
					</div>

					<div class="item">
						<img class="d-block img-fluid" src="images/image3.jpg" alt="Third slide">
					</div>

					<div class="item">
						<img class="d-block img-fluid" src="images/Gretzky_statue.jpg"  alt="Third slide">
					</div>				
				</div>

				<a class="left carousel-control" href="#carouselExampleIndicators" role="button" data-slide="prev">
					<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
					<span class="sr-only">Previous</span>
				</a>
				<a class="right carousel-control" href="#carouselExampleIndicators" role="button" data-slide="next">
					<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
					<span class="sr-only">Next</span>
				</a>
			</div>	
		</div>			          
		<aside class="aside-md bg-black dk col-lg-3 sidebar "  >       
			<div class="well">
				<p>Prix</p>
				<label>$</label> 
				<input  type="text" name="_udlo" size="6" placehoder="Toutes les catÃ©gories" value="" title="Saisissez une fourchette de prix minimum"  id="min_price"> 
				<label> to </label>
				<input  type="text" name="_udhi" size="6" value="" title="Saisissez une fourchette de prix maximum" id="max_price">$
			</div>

			<div class="well">
				<p>Etat</p>
				<label for="LH_ItemConditionNew"><input type="checkbox">Neuf</label><br>
				<label for="LH_ItemConditionUsed"><input type="checkbox" id="LH_ItemConditionUsed"  class="condition" value="4"> D'occasion</label><br>
			</div>

			<div class="well">
				<p>Equipe</p>

				<div id="gh-cat-box" class="equipe">
				 <select aria-label="Select a category for search"   id="gh-cat" name="_sacat">
					 <option value="Toronto Maple Leafs">Toronto Maple Leafs</option>
					 <option value="Edmonton Oilers">Edmonton Oilers</option>
					 <option value="Ottawa Senators">Ottawa Senators</option>
					 <option value="Vancouver Canucks">Vancouver Canucks</option>
					 <option value="Quebec Nordiques">Quebec Nordiques</option>
					 <option value="Boston Bruins">Boston Bruins</option>
					 <option value="New York Islanders">New York Islanders</option>
					 <option value="Detroit Red Wings">Detroit Red Wings</option>
					 <option value="New Jersey Devils">New Jersey Devils</option>
					 <option value="Calgary Flames">Calgary Flames</option>
					 <option value="Tampa Bay Lightning">Tampa Bay Lightning</option>
					 <option value="Pittsburgh Penguins">Pittsburgh Penguins</option>
					 <option value="Vegas Golden Knights">Vegas Golden Knights</option>
					 <option value="Chicago Blackhawks">Chicago Blackhawks</option>
					 <option value="Colorado Avalanche">Colorado Avalanche</option>
					 <option value="Philadelphia Flyers">Philadelphia Flyers</option>
					 <option value="St. Louis Blues">St. Louis Blues</option>
					 <option value="Washigton Capitals">Washigton Capitals</option>
				 </select>
				</div>
			</div>
		</aside>       
	</div>
   
	<a class="clickMe" href=alerteActive.html>Voir mes alertes actives</a>
	<style>
	.clickMe {
		-moz-appearance: button;
		-ms-appearance: button;
		-o-appearance: button;
		-webkit-appearance: button;
		appearance: button;
		text-decoration: none;
		color: #000;
		padding: 0.2em 0.4em;
	}
	</style>
    
    <!-- Modal HTML -->
    <div id="confirmModal" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">Confirmation</h4>
                </div>
                <div class="modal-body confirme">     
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button> 
                </div>
            </div>
        </div>
    </div>
	
<!--fin container -->	
</div>

	
<script >
																					  
function onclickButton(){
	var keywords=$("#searchText").val();
	localStorage.setItem('keywords', keywords);
}

function voirAlerteActive(){
	var keywords=$("#searchText").val();
	localStorage.setItem('keywords', keywords);
}
						   
						   
function _cb_findItemsByKeywords(root) {
	
/*if(!root.findItemsByKeywordsResponse[0].searchResult[0].IsEmpty()) {
		alert("La recherche ne marche pas");
    return;
	
  }
*/
	
  var items = root.findItemsByKeywordsResponse[0].searchResult[0].item || [];

  if (items.length==0) {
  document.getElementById("results").innerHTML ="O resultat  trouve";
    return;
  }
	
  var html = [];
  html.push('<table class= "table"><tbody>');
	
  for (var i = 0; i < items.length; ++i) {
    var item     = items[i];
    var title    = item.title;
    var pic      = item.galleryURL;
    var viewitem = item.viewItemURL;
    if (null != title && null != viewitem) {
      html.push('<tr><td>' + '<img src="' + pic + '">' + '</td>' +
      '<td><a href="' + viewitem + '" target="_blank">' + title + '</a></td></tr>');
    }
  } 
  html.push('</tbody></table>');
  document.getElementById("results").innerHTML = html.join("");
} 
	
function buildURLArray (){
      let filterarray = [
				{"name":"MaxPrice",
				"value":this.state.max_price,
				"paramName":"Currency",
				"paramValue":"USD"},
				{"name":"MinPrice",
				"value":this.state.min_price,
				"paramName":"Currency",
				"paramValue":"USD"},
				{"name":"Condition",
				"value":this.state.condition,
				}
            ];

      if (this.state.max_price === ''){filterarray.shift();}
      // Iterate through each filter in the array
      for(let i=0; i < filterarray.length; i++) {
        //Index each item filter in filterarray
        let itemfilter = filterarray[i];
        // Iterate through each parameter in each item filter
        for(let index in itemfilter) {
          // Check to see if the paramter has a value (some don't)
          if (itemfilter[index] !== "") {
            if (itemfilter[index] instanceof Array) {
              for(let r = 0; r < itemfilter[index].length; r++) {
              let value = itemfilter[index][r];
              urlfilter += "&itemFilter\(" + i + "\)." + index + "\(" + r + "\)=" + value ;
              }
            }else {
              urlfilter += "&itemFilter\(" + i + "\)." + index + "=" + itemfilter[index];
            }
          }
        }
      }
  };

																	
function createTextConfirmation () {
  $('#confirmModal').modal('show');
     var confirmat='Cher' +  ' Il n y a aucun item en vente sur ebay pour la recherche de "' + 
         '". Un email vous sera envoyÃ© si un item correspond Ã  cette recherche. Merci'
         $(".confirme").html(confirmat);
   };
					  
function selectCheckbox(){
      this.setState({selected: !this.state.selected});
      let string = this.state.keywords;
      if (this.state.selected) {
          string = string.replace(/,/g , " ");
      }else {
          string = string.split(/[ ,]+/).join(',');
      }
    this.setState({keywords: string});
    console.log(this.state.keywords + ' ' + string);
  };
											
function showSideBar() {

    if (!$('#searchText').val()) {
        $(".sidebar").hide(); //cacher
    }
    else {
        $(".sidebar").show();
    }

}
$("#searchText").keyup(showSideBar);
$(".sidebar").hide();
    

</script>
</body>

</html>